function isDefined(n){return n!="undefined"&&n!="unknown"}function childNodes(n){return isDefined(typeof n.childNodes)?n.childNodes:isDefined(typeof n.children)?n.children:void 0}function getElementById(n){return isDefined(typeof document.getElementById)?document.getElementById(n):typeof isDefined(document.all)?document.all[n]:void 0}function setTextContent(n,t){isDefined(typeof n.innerText)?n.innerText=t:isDefined(typeof n.textContent)&&(n.textContent=t)}function setupSample(){var n,t;if((!window.google||!google.gears)&&confirm("This demo requires Gears to be installed. Install now?")){location.href="http://code.google.com/apis/gears/install.html";return}(n=getElementById("view-source"),n)&&(t=navigator.product=="Gecko"?"<a href='view-source:"+location.href+"'>View Demo Source<\/a>":"<em>To see how this works, use the <strong>view source<\/strong> feature of your browser<\/em>",n.innerHTML+=t)}function checkProtocol(){return location.protocol.indexOf("http")!=0?(setError("This sample must be hosted on an HTTP server"),!1):!0}function addStatus(n,t){var i=getElementById("status"),r="statusEntry"+(childNodes(i).length+1);i&&(i.innerHTML+=t?'<span id="'+r+'" class="'+t+'"><\/span>':'<span id="'+r+'"><\/span>',i.innerHTML+="<br>",setTextContent(getElementById(r),n))}function clearStatus(){var n=getElementById("status");n.innerHTML=""}function setError(n){clearStatus(),addStatus(n,"error")}setupSample()